---
title: Advisor スコアを使用して Azure ワークロードを最適化する
description: Advisor スコアを使用して Azure を最大限に活用する方法
ms.topic: article
ms.date: 09/09/2020
ms.openlocfilehash: 29d8480f501a78c1668b52034f439f998419f9d9
ms.sourcegitcommit: 32c521a2ef396d121e71ba682e098092ac673b30
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/25/2020
ms.locfileid: "91335621"
---
# <a name="optimize-azure-workloads-using-advisor-score"></a>Advisor スコアを使用して Azure ワークロードを最適化する

## <a name="introduction-to-advisor-score"></a>Advisor スコア入門

Azure Advisor によって、お使いのワークロードに対してベスト プラクティスの推奨事項が提供されます。 これらの推奨事項は、次のことを支援するためにパーソナライズされ実行可能になっています。
* ワークロードの構成を改善し、Azure のデプロイを最適化する
* ベスト プラクティスに従って、重大な問題を事前に防止する
* [Microsoft Azure Well-Architected Framework](https://docs.microsoft.com/azure/architecture/framework/) の 5 つの柱に対して Azure ワークロードを評価する

**Advisor スコア**は、Advisor の中核機能として、これらの目標を効果的かつ効率的に達成するように考案されています。 

Azure を最大限に活用するには、ワークロードの最適化の過程において、どのサービス/リソースがよく消費されるか、また、されないかを把握しておくことが重要です。 また、推奨事項に基づいてアクションに優先順位を付け、成果を最大化する方法についても把握しておくことをお勧めします。 この最適化の過程での進行状況を追跡し、報告することも重要です。 **Advisor スコア**を使用すると、新しいゲーミフィケーション エクスペリエンスによってこれらすべてを簡単に実行できます。 パーソナライズされたクラウド コンサルタントとして、Azure Advisor は使用状況のテレメトリとリソースの構成を継続的に評価し、業界のベスト プラクティスを確認します。 Advisor によって、その結果は 1 つのスコアに集約されるため、信頼性が高く、安全で、コスト効率の高いソリューションを構築するために必要な手順を自分が実行しているかどうかを、一目で判断することができます。 Advisor スコアは 1 つの総合スコアと、さらに詳しく分類される 5 つのカテゴリ スコアで構成されます。Azure Advisor の各カテゴリの 1 つずつが、Well-Architected Framework の 5 つの柱を表しています。 毎日、毎週、および毎月の傾向を含む総合スコアとカテゴリ スコアを表示し、時間に沿って進行状況を追跡することができます。また、目標を達成するためのベンチマークを設定することが可能です。 

 ![Advisor スコアのエクスペリエンス](./media/advisor-score-1.png)

## <a name="how-to-consume-advisor-score"></a>Advisor スコアを使用する方法
Advisor によって、Advisor カテゴリの総合的な Advisor スコアと内訳がパーセント単位で表示されます。 どのカテゴリでも 100% のスコアは、Advisor によって評価されたすべてのリソースが、Advisor に推奨されたベスト プラクティスに沿っていることを意味します。 スペクトルのもう一方の端であるスコア 0% は、Advisor によって評価されたリソースが Advisor の推奨に沿っていないことを意味します。 これらのスコア グレインを使用して、以下のフローを簡単に実現できます。
* **Advisor スコア**。Advisor スコアに基づいて、ワークロード/サブスクリプションがどのように実行されるかのベースラインを設定できます。 また、どのような傾向にあるかを把握するために、傾向の履歴を確認することもできます。
* 各推奨事項の **Advisor カテゴリ スコア**は、未処理の推奨事項の内、スコアを最も向上させるものを示します。 これらの値には、推奨事項の重みと予測される実施の容易さの両方が反映されているため、かけた時間に対して最大限の価値を引き出すことができ、優先順位を付ける上で役立ちます。
* 各推奨事項の**カテゴリ スコアの影響**は、カテゴリごとに修復のアクションに優先順位を付けるうえで役立ちます

各推奨事項によるカテゴリ スコアへの貢献度は、Azure portal の [Advisor スコア] ページで明確に示されます。 各カテゴリ スコアは、[カテゴリ スコアの影響] 列に表示されている割合のポイントで増やすことができます。 この値には、カテゴリにおけるその推奨事項の重みと、すぐに成果ができるものの実施の容易さが反映されています。 スコアへの影響力が最も大きい推奨事項に焦点を当てることで、時間単位での効果を最大化することができます。  

![Advisor スコアの影響](./media/advisor-score-2.png)

いずれかの Advisor の推奨事項が個々のリソースに関連していない場合は、これらの推奨事項を延期または無視することで、次回の更新時のスコア計算から除外することができます。 また、Advisor ではこの入力を追加のフィードバックとして使用して、モデルの改善が行われます。

## <a name="how-is-advisor-score-calculated"></a>Advisor スコアの計算方法
Advisor には、カテゴリ スコアと総合的な Advisor スコアがパーセント単位で表示されます。 どのカテゴリでも 100% のスコアは、すべてのリソースが "*Advisor によって評価され"* 、Advisor に推奨されたベスト プラクティスに沿っていることを意味します。 スペクトルのもう一方の端であるスコア 0% は、Advisor によって評価されたリソースが Advisor の推奨に沿っていないことを意味します。 
**5 つの各カテゴリ上で、スコア 100 が可能性として最も高くなります。** 総合的な Advisor スコアは、適用可能な各カテゴリ スコアの合計を、適用可能な全カテゴリから設定できる最高スコア値の合計で除算して計算されます。 つまり、ほとんどのサブスクリプションでは、Advisor によって各カテゴリのスコアが加算されたうえで、500 で除算されます。 ただし、**各カテゴリ スコアは、Advisor によって評価されたリソースを使用する場合にのみ、計算されます。**

**Advisor スコアの計算例**
* 1 つのサブスクリプションのスコア:これは、サブスクリプションのすべての Advisor カテゴリ スコアの単純な平均です。 Advisor カテゴリ スコアが - コスト = 73、信頼性 = 85、オペレーショナル エクセレンス = 77、パフォーマンス = 100 である場合、**Advisor スコア**は、(73 + 85 + 77 + 100)/(4x100) = 0.84 または 84% になります。
* 複数のサブスクリプションのスコア:複数のサブスクリプションが選択されている場合、生成される全体的な Advisor スコアは加重集計されたカテゴリ スコアになります。 ここでは、各 Advisor カテゴリ スコアは、サブスクリプションで消費されるリソースに基づいて集計されます。 加重集計されたカテゴリ スコアが得られたら、単純な平均を出して、サブスクリプションの全体的なスコアを算出します。 


### <a name="scoring-methodology"></a>スコアリングの手法: 
Advisor スコアの計算は、次の 4 つのステップにまとめることができます。
1. Advisor によって、**影響を受けるリソースのリテール コスト**が計算されます。これは、Advisor に少なくとも 1 つの推奨事項があるサブスクリプションでのリソースです。
2. Advisor によって、**評価されたリソースのリテール コスト**が計算されます。これらは、推奨事項があるかどうかに関わらず、Advisor によって監視されているリソースです。 
3. 各種の推奨事項に対して、Advisor によって**正常なリソース比率**が計算されます。これは、影響を受けるリソースのリテール コストを、評価されたリソースのリテール コストで除算した値です。
4. Advisor によって、各カテゴリで正常なリソース比率に 3 つの追加の重み付けが適用されます。
  * より影響が大きい推奨事項は、影響の少ないものよりも重みが高くなります。
  * 長期にわたる推奨事項が含まれるリソースでは、スコアに対する影響が大きくなります。
  * Advisor 上で延期または無視したリソースは、スコアの計算から完全に除かれます。 
    
Advisor によって、Advisor のカテゴリ レベルにこのモデルが適用され (セキュリティでは、[セキュリティ スコア](https://docs.microsoft.com/azure/security-center/secure-score-security-controls#introduction-to-secure-score) モデルが使用されます)、各カテゴリの Advisor スコアが提示されます。単純な平均値によって最終的な Advisor スコアが生成されます。


## <a name="advisor-score-faq"></a>Advisor スコアに関するよく寄せられる質問
* **スコアはどの程度の頻度で更新されますか。**
スコアは、少なくとも 1 日に 1 回は更新されます。 
* **一部の推奨事項におけるカテゴリ スコアの [影響] 列に、空の値 ("-") が含まれるのはなぜですか。** Advisor では、新しい推薦事項やスコアリング モデルが最近変更されたものが、すぐに含まれることはありません。 短い評価期間 (通常は数週間) が経過すると、スコアに含まれるようになります。 
* **予想される削減額が少ないにもかかわらず、一部の推薦事項のコスト スコアの影響がより大きいのはなぜですか。**
コスト スコアには、使用率が低いリソースで予想される削減額と、それらの推奨事項を実施する容易さの両方が反映されています。 例えば、予想される削減額が少なくても、影響を受けているリソースが長い間アイドル状態にある場合には、追加の重みが適用されます。 
* **スコアが付けられていないカテゴリまたはサブスクリプションが 1 つまたは複数あるのはなぜですか。**
Advisor では、Advisor によって評価されたリソースを含むカテゴリおよびサブスクリプションに対してのみスコアが生成されます。
* **推奨事項に関連性がない場合は、どうすればよいですか。**
Advisor からの推奨事項を無視すると、スコアの計算から除外されます。 また、推奨事項を無視するとで、Advisor による推奨設定の質の向上にも役立ちます。
* **スコアが変更されたのはなぜですか。** 影響を受けたリソースを修復すると、Advisor によって推奨されているベスト プラクティスを採用したことで、スコアが変更される場合があります。 サブスクリプションに対して権限を持つユーザーが新しいリソースを変更または作成した場合は、スコアに変動が見られる可能性があります。スコアは、すべてのリソースの総コストに対する影響を受けたリソースのコストの比率に基づいているためです。
* **Advisor によって、サブスクリプションにおけるリソースのリテール コストは、どのように計算されますか?**
Advisor では、Azure.com の価格ページに公開されている "従量課金制" レートが使用されます。これには適用可能な割引は反映されず、リソースが割り当てられた最新の日付けでの使用量が乗算されます。 リソース コストの計算から割引を省略することで、割引が異なるサブスクリプション、テナント、および登録間で Advisor スコアを比較できるようになります。 
* **スコアのポイントを得るためには、Advisor の推奨事項を確認する必要がありますか。** いいえ。 Advisor で推奨事項を確認せずに事前にベスト プラクティスを採用した場合でも、スコアには、Advisor によって推奨されているベスト プラクティスを採用しているかどうかが反映されます。
* **スコアリング手法では、運用環境と開発テストのワークロードの区別は行われますか。**
いいえ。現時点では行われません。ただし、リソースが開発およびテストに対して使用され、推奨事項が適用されない場合には、それらの個々のリソース上で推奨事項を無視できます。
* **100 個のリソースがあるサブスクリプションと 100,000 個のリソースがあるサブスクリプション間でスコアを比較することはできますか。**
スコアリング手法は、サブスクリプションとサービスの組み合わせ上でリソース数を制御するように設計されているので、リソース数がより少ないサブスクリプションでは、リソース数がより多いサブスクリプションよりもスコアが高いまたは低い可能性があります。 
* **[スコアへの影響] 列に "近日対応予定" と表示されているのはどういう意味ですか。**
これは新しい推奨事項であり、Advisor スコア モデルへの移行に取り組んでいる途中であることを意味しています。 この新しい推奨事項がスコア計算で考慮されるようになると、推奨事項のスコアの影響値が表示されます。  
* **スコアは、Azure に対する支出額に依存しますか。**
いいえ。スコアは必ずしもユーザーの支出額を反映しているわけではなく、不必要な支出はコスト スコアを下げることになります。

## <a name="how-to-access-advisor"></a>Advisor にアクセスする方法
Advisor スコアは、Azure portal 上でパブリック プレビュー段階にあります。 Advisor セクションに移動する必要があります。また、Advisor スコアは、左側のナビゲーションの 2 番目のメニュー項目として表示されます。 

![Advisor スコアのエントリ ポイント](./media/advisor-score-3.png)

## <a name="next-steps"></a>次のステップ

Advisor の推奨事項について詳しくは、以下を参照してください。
* [Advisor 入門](advisor-overview.md)
* [Advisor の使用を開始する](advisor-get-started.md)
* [Advisor のコストに関する推奨事項](advisor-cost-recommendations.md)
* [Advisor のパフォーマンスに関する推奨事項](advisor-performance-recommendations.md)
* [Advisor のセキュリティに関する推奨事項](advisor-security-recommendations.md)
* [Advisor のオペレーショナル エクセレンスに関する推奨事項](advisor-operational-excellence-recommendations.md)
